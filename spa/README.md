# Declaration form
This part of the project is a sample of a health declaration form that allows user to submit his/her health declaration. It also has another user interface for the admin or internal employee to veiw the health declarations in a table format.

This web interface is done using Angular 13.

## Components

This SPA is mainly divided into two: form and admin.

### Declaration Form (path: /)
The form is meant to be accessible publicly for a user to submit the declaration. The form has some validation checks to ensure that the necessary information are specified. Some UI feedbacks are provided, such as red highlighting of the text box and some messages. Upon submission, the declaration is sent to the server-side via REST API. The same data will then be returned with the addition of a submission date generated by the server.

A minor UI feedback is also added upon submission, such as the submit button is no longer clickable and a rolling animation.

After a successful submission, an acknowledgment is displayed. The user can choose to submit another declaration (e.g. for another family member or friends)

Angular components: /form (/form-new, /form-view)

### Admin UI (path: /admin)
An admin UI allows the listing of health declarations. The information is retrieved from the server via REST API. In order to access the admin UI, an authentication is required. For this sample project, no actual authentication is done although the Angular service and Guard are in place. Guard is used to protect the admin UI, such that accessing the listing of health declaration without a "proper" authentication will redirect the user to login form.

The admin UI that lists the health declaration has a button to refresh to retrieve information from the server again.

Angular components: /admin (/decl-list /decl-list/entry /login)

## Possible improvements

### Authentication
A real authentication can be added. The current AuthnService has some placeholders to check for a valid session. This can then be further implemented to check the user session validity by calling server API.

Session token can be stored either in HTML5 storage or as cookie. However, for cookie, CSRF token will need to be provided as well to avoid CSRF.

### Error handling
Error page or error notification/toast can be added to handle various error (e.g. when the server is not contactable during submission)

### Paging
The current listing of health declarations does not have paging or search filter to limit the search result.

# Example of unit test result
```
$ ng test
â ™ Generating browser application bundles (phase: setup)...25 02 2022 00:47:38.669:WARN [karma]: No captured browser, open http://localhost:9876/
25 02 2022 00:47:38.687:INFO [karma-server]: Karma v6.3.16 server started at http://localhost:9876/
25 02 2022 00:47:38.688:INFO [launcher]: Launching browsers Chrome with concurrency unlimited
25 02 2022 00:47:38.705:INFO [launcher]: Starting browser Chrome
25 02 2022 00:47:51.732:WARN [karma]: No captured browser, open http://localhost:9876/
25 02 2022 00:47:51.967:INFO [Chrome 98.0.4758.102 (Linux x86_64)]: Connected on socket Ua9uhWlmYphmCi0pAAAB with id 85156698
Chrome 98.0.4758.102 (Linux x86_64): Executed 5 of 5 SUCCESS (0.487 secs / 0.384 secs)
TOTAL: 5 SUCCESS
```

# Angular CLI

## Development server

Run `ng serve` for a dev server. Navigate to `http://localhost:4200/`. The app will automatically reload if you change any of the source files.

## Build

Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory.

## Running unit tests

Run `ng test` to execute the unit tests via [Karma](https://karma-runner.github.io).

## Further help

To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI Overview and Command Reference](https://angular.io/cli) page.
